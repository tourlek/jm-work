import{_}from"./form-input-3d77d476.js";import{L as h}from"./loading-06b58b27.js";import{j as v,u as g,r as E,g as u,h as I,o as c,c as n,e as l,d as p,f as N,b as S,F as b,i}from"./index-ae08a8a1.js";import{u as k}from"./employer-327c1d65.js";import"./input-57f3c635.js";import"./button-27af24b8.js";const w={key:0},D={__name:"index",setup(x){var m;const e=k(),o=v(),d=g();let a=E(!0),r=(m=o==null?void 0:o.params)==null?void 0:m.id,s=u(()=>e.employer),y=u(()=>s.value.employeeId),f=async()=>{a.value=!0;try{await e.patchEmployer(r,s.value),await e.fetchEmployerId(r),d.push({name:"edit-list-employee",params:{id:y.value}}),a.value=!1,i("Success",{autoClose:5e3,type:"success"})}catch(t){i(t.message,{autoClose:5e3,type:"error"})}};return I(async()=>{try{await e.fetchEmployerId(r),a.value=!1}catch(t){console.error("No employee ID found in route params.",t)}}),(t,B)=>(c(),n(b,null,[l(a)?(c(),n("div",w,[p(h)])):N("",!0),S("div",null,[p(_,{data:l(s),onSubmit:l(f),employer:"",edit:""},null,8,["data","onSubmit"])])],64))}};export{D as default};
